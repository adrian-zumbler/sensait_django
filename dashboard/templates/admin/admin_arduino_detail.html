{% extends 'main_header.html' %}
{% load staticfiles %}
{% load arduino_tags %}

{% block main_content_wrapper %}

  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
      <h1>
        ADMIN - SISTEMA -  DETALLE -  {{arduino.name }}
        <small>DETALLE DEL SISTEMA </small>

      </h1>
      <ol class="breadcrumb">
        <li>
          <a href="#">
            <i class="fa fa-dashboard"></i>
            Home</a>
        </li>
        <li class="active">Dashboard</li>
      </ol>
    </section>

    <!-- Main content -->
<section class="content">
  <div class="row">
    <div class="col-xs-12">

      <div class="box box-solid">
        <div class="box-header with-border">
          <i class="fa fa-adjust"></i>
          <h3 class="box-title">Informaci贸n del Sistema:  <b>{{arduino.name }}</b></h3>
        </div><!-- /.box-header -->
        <div class="box-body">
          <dl class="dl-horizontal">

            <dt>key del Sistema</dt>
            <dd>
              <b>{{arduino.arduino_token }} </b>
            </dd>

            <dt>Proyecto del Sistema</dt>
            <dd>
              {{arduino.project }}
            </dd>

            <dt>Ubicaci贸n</dt>
            <dd>
                {{arduino.location }}
            </dd>

            <dt>ID Sistema</dt>
            <dd>
                {{arduino.id }}
            </dd>

            <dt>Nombre del Sistema</dt>
            <dd>
              {{arduino.name }}
            </dd>


            <dt>Sensores</dt>
            <dd>
                {{arduino.sensors.count }}
            </dd>

            <dt> Sensores Disponibles </dt>
            <dd>
                {{arduino.available_sensors }}
            </dd>

            <dt>Fecha de Creaci贸n</dt>
            <dd>
                {{arduino.created_at }}
            </dd>

            <dt>Fecha de Actualizaci贸n</dt>
            <dd>
                {{arduino.updated_at }}
            </dd>

            <dt>ESTATUS</dt>
            <dd>
                <b>{{arduino.get_estatus_display }}</b>
            </dd>

          </dl>
        </div><!-- /.box-body -->
      </div><!-- /.box -->
    </div>
  </div><!-- /.row -->



  <!-- /. lista de PROYECTOS ASIGNADOS -->
    <div class="row">
      <div class="col-xs-12 ">
        <div class="box box-solid">
          <div class="box-header with-border">
            <i class="fa fa-adjust"></i>
            <h3 class="box-title">Lista de Sensores asignados al Sistema:
              {{client.enterprise }} </h3>
          </div><!-- /.box-header -->
          <div class="box-body">
            <table id="table_sensors" class="table table-bordered table-striped">
              <thead>
                <tr>
                  <th>ID Sensor</th>
                  <th>Nombre del Sensor</th>
                  <th>Tipo de Sensor</th>
                  <th>Tipo de Dato</th>
                  <th>Valor Maximo</th>
                  <th>Valor Minimo</th>
                  <th>Accion</th>
                </tr>
              </thead>
              <tbody>

                {% for sensor in arduino.sensors.all %}
                <tr>
                  <td> {{sensor.id}} </td>
                  <td> {{sensor.name}} </td>
                  <td> {{sensor}} </td>
                  <td> {{sensor.sensor_type.dataType}} </td>
                  <td> {{sensor.max_value}} </td>
                  <td> {{sensor.sensor_type.min_value}} </td>

                  <td>
                    <div class="btn-group">
                      <a href="#" target="_self">
                        <button  type="button" class="btn btn-success">Ver Grafica</button>
                      </a>
                    </div>
                  </td>

                </tr>
                {% endfor %}

              </tbody>
                <tfoot>
                  <tr>
                    <th>ID Sensor</th>
                    <th>Nombre del Sensor</th>
                    <th>Tipo de Sensor</th>
                    <th>Tipo de Dato</th>
                    <th>Valor Maximo</th>
                    <th>Valor Minimo</th>
                    <th>Accion</th>
                  </tr>
                </tfoot>
            </table>
          </div><!-- /.box-body -->
        </div><!-- /.box -->
      </div>
    </div>




  <div class="row">
    <div class="col-xs-12">
      <div class="box">
        <a href="{% url 'sensorTypeList' %}">
          <button class="btn btn-block btn-info btn-lg">Regresar a Lista de Sensores</button>
        </a>
      </div>
    </div>
  </div>


<!-- /.END PARA LOS ARDUINOS DEL PROYECTO -->
  </section>
    <!-- /.content -->
  </div>
  <!-- /.content-wrapper -->

{% endblock main_content_wrapper %}

{% block content_js %}
  <script src="{% static 'plugins/datatables/jquery.dataTables.min.js' %}"></script>
  <script src="{% static 'plugins/datatables/dataTables.bootstrap.min.js' %}"></script>
  <!-- page script -->
<script type="application/javascript">

  $(function () {
    $('#table_sensors').DataTable({
      "paging": true,
      "lengthChange": false,
      "searching": true,
      "ordering": true,
      "info": true,
      "autoWidth": false
    });
  });

</script>

{% endblock content_js %}
